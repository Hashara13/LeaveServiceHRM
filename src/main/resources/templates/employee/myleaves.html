<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>My Leaves</title>
    <style>
        body{font-family:Arial;background:#eef1f6;margin:0;display:flex;}
        .sidebar{width:250px;background:#2d3748;color:#fff;height:100vh;position:fixed;padding:20px 0;}
        .sidebar h3{padding:0 20px;font-size:20px;margin:20px 0;}
        .sidebar a{display:block;padding:12px 20px;color:#cbd5e0;text-decoration:none;font-size:15px;}
        .sidebar a:hover{background:#1a202c;color:#fff;}
        .sidebar .active{background:#1a202c;color:#fff;}
        .main{margin-left:250px;padding:30px;width:100%;box-sizing:border-box;}
        h2{font-size:26px;color:#2d3748;margin-bottom:20px;}

        .header-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
        }
        .apply-btn {
            background:#2d6cdf;
            color:#fff;
            padding:10px 20px;
            border-radius:8px;
            text-decoration:none;
            font-size:14px;
            font-weight:bold;
            box-shadow:0 2px 6px rgba(45,108,223,0.3);
        }
        .apply-btn:hover{background:#1e4ead;}

        table{width:100%;border-collapse:collapse;background:#fff;border-radius:12px;overflow:hidden;box-shadow:0 3px 10px rgba(0,0,0,0.1);}
        th{background:#2d3748;color:#fff;padding:16px;font-size:15px;text-align:left;}
        td{padding:14px;border-bottom:1px solid #e9ecef;font-size:14px;}
        tr:hover{background:#f7f9fc;}
        .btn{padding:8px 14px;border-radius:5px;text-decoration:none;font-size:13px;margin:0 5px;}
        .edit{background:#2d6cdf;color:#fff;}
        .delete{background:#dc3545;color:#fff;}
    </style>
</head>
<body>
<div class="sidebar">
    <h3>HRM System</h3>
    <strong style="padding:0 20px;font-size:13px;color:#718096;">EMPLOYEE SECTION</strong>
    <a href="/employee/myleaves" class="active">My Leaves</a>
    <a href="/employee/apply">Apply Leave</a>
    <strong style="padding:0 20px;font-size:13px;color:#718096;margin-top:20px;display:block;">ADMIN SECTION</strong>
    <a href="/admin/leaves">All Requests</a>
    <a href="/logout" style="margin-top:40px;">Logout</a>
</div>
<div class="main">
    <div class="header-bar">
        <h2>My Leaves <span th:text="${username}"></span></h2>
        <a href="/employee/apply" class="apply-btn">+ Leave</a>
    </div>

    <table>
        <tr>
            <th>ID</th><th>From</th><th>To</th><th>Reason</th><th>Status</th><th>Actions</th>
        </tr>
        <tr th:each="l : ${leaves}">
            <td th:text="${l.id}"></td>
            <td th:text="${l.fromDate}"></td>
            <td th:text="${l.toDate}"></td>
            <td th:text="${l.reason}"></td>
            <td th:text="${l.status}"></td>
            <td>
                <span th:if="${l.status.name() == 'PENDING'}">
                    <a th:href="@{/employee/edit/{id}(id=${l.id})}" class="btn edit">Edit</a>
                    <a th:href="@{/employee/delete/{id}(id=${l.id})}" onclick="return confirm('Delete this leave request?')" class="btn delete">Delete</a>
                </span>
                <span th:if="${l.status.name() != 'PENDING'}" style="color:#888;">-</span>
            </td>
        </tr>
    </table>
</div>
</body>
</html>