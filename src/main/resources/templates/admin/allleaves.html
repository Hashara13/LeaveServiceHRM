<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>All Leave Requests</title>
    <style>
        body{font-family:Arial;background:#eef1f6;margin:0;padding:20px;}
        h2{margin:0;padding:15px 0;font-size:24px;}
        .top-bar{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;}
        .logout{background:#212529;color:#fff;padding:8px 14px;border-radius:6px;text-decoration:none;font-size:14px;}
        table{width:100%;border-collapse:collapse;background:#fff;border-radius:12px;overflow:hidden;box-shadow:0 3px 10px rgba(0,0,0,0.1);}
        th{background:#2d3748;color:#fff;padding:14px;font-size:14px;}
        td{padding:12px 14px;border-bottom:1px solid #e9ecef;font-size:14px;}
        tr:hover{background:#f7f9fc;}
        .badge{padding:6px 10px;border-radius:5px;font-size:12px;color:#fff;text-transform:uppercase;}
        .pending{background:#f0ad4e;}
        .approved{background:#28a745;}
        .rejected{background:#dc3545;}
        .btn{padding:6px 12px;border-radius:5px;text-decoration:none;color:#fff;font-size:13px;margin-right:5px;}
        .approve{background:#28a745;}
        .reject{background:#dc3545;}
        .disabled{background:#6c757d;pointer-events:none;}
    </style>
</head>
<body>

<div class="top-bar">
    <h2>All Leave Requests</h2>
    <a href="/logout" class="logout">Logout</a>
</div>

<table>
    <thead>
    <tr>
        <th>ID</th>
        <th>Employee</th>
        <th>From</th>
        <th>To</th>
        <th>Reason</th>
        <th>Status</th>
        <th>Actions</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="leave : ${leaves}">
        <td th:text="${leave.id}"></td>
        <td th:text="${leave.employeeName}"></td>
        <td th:text="${leave.fromDate}"></td>
        <td th:text="${leave.toDate}"></td>
        <td th:text="${leave.reason}"></td>
        <td>
            <span class="badge" th:classappend="${leave.status.name().toLowerCase()}" th:text="${leave.status}"></span>
        </td>
        <td>
            <a th:if="${leave.status.name() == 'PENDING'}" th:href="@{'/admin/approve/' + ${leave.id}}" class="btn approve">Approve</a>
            <a th:if="${leave.status.name() == 'PENDING'}" th:href="@{'/admin/reject/' + ${leave.id}}" class="btn reject">Reject</a>
            <a th:if="${leave.status.name() != 'PENDING'}" class="btn disabled">No Action</a>
        </td>
    </tr>
    </tbody>
</table>

</body>
</html>
